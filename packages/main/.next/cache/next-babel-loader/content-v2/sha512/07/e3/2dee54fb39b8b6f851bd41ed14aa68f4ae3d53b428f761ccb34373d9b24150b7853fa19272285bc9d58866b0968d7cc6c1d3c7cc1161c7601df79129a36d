{"ast":null,"code":"import _toConsumableArray from \"/Users/user/Desktop/sizl/mono_pop/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/Users/user/Desktop/sizl/mono_pop/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/Users/user/Desktop/sizl/mono_pop/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/user/Desktop/sizl/mono_pop/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/Users/user/Desktop/sizl/mono_pop/packages/main/pages/mes/stock/admin/index.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from \"react\";\nimport MenuNavigation from \"../../../../component/MenuNav/MenuNavigation\";\nimport ProfileHeader from \"../../../../component/Profile/ProfileHeader\";\nimport PageHeader from \"../../../../component/Header/Header\";\nimport ExcelTable from \"../../../../component/Excel/ExcelTable\";\nimport { RequestMethod } from \"../../../../common/RequestFunctions\";\nimport { columnlist } from \"../../../../common/columnInit\";\n//@ts-ignore\nimport { SelectColumn } from \"react-data-grid\"; //@ts-ignore\n\nimport Notiflix from \"notiflix\";\nimport { ScrollSync, ScrollSyncPane } from \"react-scroll-sync\";\nimport ProductTitleFomatter from \"../../../../component/Formatter/ProductTitleFomatter\";\nimport moment from \"moment\";\nimport UnitContainer from \"../../../../component/Unit/UnitContainer\";\nimport { excelDownload } from \"../../../../common/excelDownloadFunction\";\nimport TitleCreateModal from \"../../../../component/Modal/TitleCreateModal\";\nimport StockSearchModal from \"../../../../component/Modal/StockSearchModal\";\nimport TextEditor from \"../../../../component/InputBox/ExcelBasicInputBox\";\n\nvar Productlist = function Productlist() {\n  _s();\n\n  var _useState = useState(\"local\"),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var _useState2 = useState([]),\n      rowData = _useState2[0],\n      setRowData = _useState2[1];\n\n  var _useState3 = useState([]),\n      dateData = _useState3[0],\n      setDateData = _useState3[1];\n\n  var _useState4 = useState(columnlist.stockProduct),\n      column = _useState4[0],\n      setColumn = _useState4[1];\n\n  var _useState5 = useState(columnlist.stockDate),\n      dateColumn = _useState5[0],\n      setDateColumn = _useState5[1];\n\n  var _useState6 = useState(new Set()),\n      selectList = _useState6[0],\n      setSelectList = _useState6[1];\n\n  var _useState7 = useState(moment(new Date()).startOf(\"month\").format('YYYY-MM')),\n      selectMonth = _useState7[0],\n      setSelectMonth = _useState7[1];\n\n  var changeSelectMonth = function changeSelectMonth(value) {\n    setSelectMonth(value);\n  };\n\n  var _useState8 = useState(\"\"),\n      keyword = _useState8[0],\n      setKeyword = _useState8[1];\n\n  var _useState9 = useState(0),\n      option = _useState9[0],\n      setOption = _useState9[1];\n\n  var _useState10 = useState({\n    from: moment(new Date()).startOf(\"month\").format('YYYY-MM-DD'),\n    to: moment(new Date()).endOf(\"month\").format('YYYY-MM-DD')\n  }),\n      selectDate = _useState10[0],\n      setSelectDate = _useState10[1];\n\n  var _useState11 = useState(false),\n      onTitleModal = _useState11[0],\n      setOnTitleModal = _useState11[1];\n\n  var _useState12 = useState(false),\n      onDataLoadModal = _useState12[0],\n      setOnDataLoadModal = _useState12[1];\n\n  var changeSelectDate = function changeSelectDate(from, to) {\n    setSelectDate({\n      from: from,\n      to: to\n    });\n  };\n\n  var _useState13 = useState(),\n      modalResult = _useState13[0],\n      setModalResult = _useState13[1];\n\n  var _useState14 = useState({\n    model: 0,\n    data: 0\n  }),\n      excelTableWidths = _useState14[0],\n      setExcelTableWidths = _useState14[1];\n\n  var _useState15 = useState(false),\n      onHide = _useState15[0],\n      setOnHide = _useState15[1];\n\n  var LoadData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              Notiflix.Loading.standard();\n              _context.next = 3;\n              return RequestMethod('get', 'stockProductList', {\n                path: {\n                  tab: \"ROLE_STK_03\"\n                },\n                params: {\n                  keyword: keyword,\n                  opt: option,\n                  from: selectDate.from,\n                  to: selectDate.to\n                }\n              });\n\n            case 3:\n              res = _context.sent;\n\n              if (res && res.status === 200) {\n                // if(res.results.summaries.length > 0){\n                cleanUpData(res, \"model\");\n                cleanUpData(res, \"date\"); // }\n\n                Notiflix.Loading.remove(300);\n              }\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function LoadData() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var SelectLoadData = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              Notiflix.Loading.standard();\n              _context2.next = 3;\n              return RequestMethod('get', 'summaryFetch', {\n                path: {\n                  tab: \"ROLE_STK_03\",\n                  summary_id: modalResult.summary_id\n                },\n                params: {\n                  keyword: keyword !== null && keyword !== void 0 ? keyword : \"\",\n                  opt: option,\n                  from: modalResult.from,\n                  to: modalResult.to\n                }\n              });\n\n            case 3:\n              res = _context2.sent;\n\n              if (res && res.status === 200) {\n                // if(res.results.summaries.length > 0){\n                cleanUpData(res, \"model\");\n                cleanUpData(res, \"date\"); // }\n\n                Notiflix.Loading.remove(300);\n              }\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function SelectLoadData() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var cleanUpData = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(res, version) {\n      var tmpColumn, tmpRow, tmpRow_date, result, totalWidth, tmpBasicRow_model;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              tmpColumn = columnlist.stockProduct;\n              tmpRow = [];\n              tmpRow_date = [];\n              result = [];\n              totalWidth = 0;\n              _context3.t0 = version;\n              _context3.next = _context3.t0 === \"model\" ? 8 : _context3.t0 === \"date\" ? 14 : 17;\n              break;\n\n            case 8:\n              tmpColumn = columnlist.stockProduct.map(function (column, index) {\n                var menuData;\n                res.results.menus && res.results.menus.map(function (menu) {\n                  if (menu.colName === column.key) {\n                    menuData = {\n                      id: menu.id,\n                      name: menu.title,\n                      width: menu.width,\n                      tab: menu.tab,\n                      unit: menu.unit\n                    };\n                  } else if (menu.colName === 'id' && column.key === 'tmpId') {\n                    menuData = {\n                      id: menu.id,\n                      name: menu.title,\n                      width: menu.width,\n                      tab: menu.tab,\n                      unit: menu.unit\n                    };\n                  }\n                });\n\n                if (menuData) {\n                  return _objectSpread(_objectSpread({}, column), menuData);\n                }\n              }).filter(function (v) {\n                return v;\n              });\n              tmpColumn.map(function (v) {\n                totalWidth += v.width;\n              });\n              setExcelTableWidths({\n                data: 1576 - totalWidth,\n                model: totalWidth\n              });\n              setColumn(_toConsumableArray(tmpColumn));\n              return _context3.abrupt(\"break\", 19);\n\n            case 14:\n              if (res.results.summaries.length > 0) {\n                tmpColumn = res.results.summaries[0].statistics.logs.map(function (col) {\n                  result.push({\n                    key: col.date,\n                    name: col.date,\n                    editor: TextEditor,\n                    formatter: UnitContainer,\n                    unitData: 'EA',\n                    width: 100\n                  });\n                });\n                setDateColumn([{\n                  key: \"title\",\n                  name: \"생산/납품\",\n                  formatter: ProductTitleFomatter,\n                  width: 100,\n                  frozen: true\n                }, {\n                  key: \"carryforward\",\n                  name: \"전월 이월\",\n                  width: 100,\n                  formatter: UnitContainer,\n                  unitData: \"EA\",\n                  frozen: true\n                }, {\n                  key: \"total\",\n                  name: \"합계\",\n                  width: 100,\n                  formatter: UnitContainer,\n                  unitData: \"EA\",\n                  frozen: true\n                }].concat(_toConsumableArray(result)));\n                result = [];\n              } else {\n                result = [];\n              }\n\n              return _context3.abrupt(\"break\", 19);\n\n            case 17:\n              return _context3.abrupt(\"break\", 19);\n\n            case 19:\n              tmpRow = res.results.summaries;\n              tmpBasicRow_model = tmpRow.map(function (row, index) {\n                var _res$results$summary_;\n\n                var random_id = Math.random() * 1000;\n                var summary_id = (_res$results$summary_ = res.results.summary_id) !== null && _res$results$summary_ !== void 0 ? _res$results$summary_ : undefined;\n                return _objectSpread(_objectSpread({}, row), {}, {\n                  customer_id: index === 0 || tmpRow[index - 1].product.raw_material.model.customer.customer_id !== row.product.raw_material.model.customer.customer_id ? row.product.raw_material.model.customer.name : undefined,\n                  customer_idPK: row.product.raw_material.model.customer.customer_id,\n                  cm_id: row.product.raw_material.model.model,\n                  cm_idPK: row.product.raw_material.model.cm_id,\n                  model: row.product.raw_material.model.model,\n                  code: row.product.raw_material.code,\n                  name: row.product.raw_material.name,\n                  summary_id: summary_id,\n                  id: \"product_\".concat(random_id)\n                });\n              });\n              tmpRow.map(function (row, index) {\n                var random = Math.random() * 1000;\n                var tmp_row_produced = {};\n                var tmp_row_shipped = {};\n                row.statistics.logs.map(function (log) {\n                  tmp_row_produced[log.date] = log.produced;\n                  tmp_row_shipped[log.date] = log.shipped;\n                });\n                tmp_row_produced[\"carryforward\"] = row.statistics.carryforward;\n                tmp_row_produced[\"total\"] = row.statistics.total_produced + row.statistics.carryforward;\n                tmp_row_shipped[\"total\"] = row.statistics.total_shipped;\n                tmpRow_date.push(_objectSpread({\n                  title: \"생산\",\n                  id: \"product_\".concat(random)\n                }, tmp_row_produced));\n                tmpRow_date.push(_objectSpread({\n                  title: \"납품\",\n                  id: \"product_\".concat(random + 1)\n                }, tmp_row_shipped));\n              });\n\n              if (version === \"model\") {\n                setRowData(_toConsumableArray(tmpBasicRow_model));\n              } else if (version === \"date\") {\n                setDateData([].concat(tmpRow_date));\n              }\n\n            case 23:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function cleanUpData(_x, _x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var downloadExcel = function downloadExcel() {\n    var tmpSelectList = [];\n    var tmpSelectListData = [];\n    rowData.map(function (row) {\n      tmpSelectList.push(selectList.has(row.id));\n      tmpSelectList.push(selectList.has(row.id)); // if(selectList.has(row.id)){\n\n      var sumProducedObject = {};\n      var sumShippedObject = {};\n      Object.keys(row).map(function (value) {\n        if (value === \"statistics\") {\n          row[value].logs.map(function (data) {\n            sumProducedObject[data.date] = data.produced;\n            sumShippedObject[data.date] = data.shipped;\n          });\n        } else {\n          sumProducedObject[value] = row[value];\n        }\n      });\n      sumProducedObject[\"title\"] = \"생산\";\n      sumProducedObject[\"carryforward\"] = row.statistics.carryforward;\n      sumProducedObject[\"total\"] = row.statistics.total_produced;\n      sumShippedObject[\"title\"] = \"납품\"; // sumShippedObject[\"carryforward\"] = row.statistics.carryforward;\n\n      sumShippedObject[\"total\"] = row.statistics.total_shipped;\n      tmpSelectListData.push(sumProducedObject);\n      tmpSelectListData.push(sumShippedObject); // }\n    });\n    excelDownload([].concat(_toConsumableArray(column), _toConsumableArray(dateColumn)), tmpSelectListData, \"\".concat(selectDate.from, \" ~ \").concat(selectDate.to, \" \\uC0DD\\uC0B0/\\uB0A9\\uD488 \\uD604\\uD669(\\uAD00\\uB9AC\\uC790)\"), \"\".concat(selectDate.from, \" ~ \").concat(selectDate.to), tmpSelectList);\n  };\n\n  var buttonClickEvents = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(number) {\n      var selectIndex, tmp, temp;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.t0 = number;\n              _context4.next = _context4.t0 === 0 ? 3 : _context4.t0 === 1 ? 5 : _context4.t0 === 2 ? 12 : _context4.t0 === 3 ? 14 : 16;\n              break;\n\n            case 3:\n              setOnDataLoadModal(true);\n              return _context4.abrupt(\"return\");\n\n            case 5:\n              selectIndex = [];\n              tmp = rowData.map(function (value, index) {\n                if (selectList.has(value.id)) {\n                  return;\n                } else {\n                  selectIndex.push(index);\n                  return _objectSpread({}, value);\n                }\n              }).filter(function (v) {\n                return v;\n              });\n              temp = [];\n              selectIndex.reverse().map(function (value, index) {\n                temp.push(dateData[value * 2]);\n                temp.push(dateData[value * 2 + 1]);\n              });\n\n              if (!onHide) {\n                setDateData([].concat(temp));\n                setRowData(_toConsumableArray(tmp));\n              } else {\n                if (state === \"local\") {\n                  LoadData();\n                } else if (state === \"select\") {\n                  SelectLoadData();\n                }\n              }\n\n              setOnHide(!onHide);\n              return _context4.abrupt(\"return\");\n\n            case 12:\n              setOnTitleModal(true);\n              return _context4.abrupt(\"return\");\n\n            case 14:\n              downloadExcel();\n              return _context4.abrupt(\"return\");\n\n            case 16:\n              return _context4.abrupt(\"return\");\n\n            case 17:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function buttonClickEvents(_x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    if (state === \"local\") {\n      LoadData();\n    } else if (state === \"select\") {\n      SelectLoadData();\n    }\n  }, [selectDate, keyword]);\n  useEffect(function () {\n    var modelWidth = 0;\n    column.map(function (v) {\n      modelWidth += v.width;\n    });\n    modelWidth += 36;\n    setExcelTableWidths(_objectSpread(_objectSpread({}, excelTableWidths), {}, {\n      data: 1576 - modelWidth,\n      model: modelWidth\n    }));\n  }, [column]);\n  useEffect(function () {\n    dateData.map(function (v, i) {\n      Object.keys(v).map(function (key, index) {\n        if (index > 1 && index < Object.keys(v).length - 2 && rowData[Math.floor(i / 2)].statistics.logs[index - 2]) {\n          if (v.title === \"생산\") {\n            rowData[Math.floor(i / 2)].statistics.logs[index - 2].produced = Number(v[key]);\n          } else if (v.title === \"납품\") {\n            rowData[Math.floor(i / 2)].statistics.logs[index - 2].shipped = Number(v[key]);\n          }\n        }\n      });\n    });\n    setRowData(_toConsumableArray(rowData)); // tmpRow.map((row: any, index: number) => {\n    //     let random = Math.random()*1000;\n    //     let tmp_row_produced = {};\n    //     let tmp_row_shipped = {};\n    //     row.statistics.logs.map((log)=>{\n    //         tmp_row_produced[log.date] = log.produced;\n    //         tmp_row_shipped[log.date] = log.shipped;\n    //     })\n    //     tmp_row_produced[\"total\"] = row.statistics.total_produced;\n    //     tmp_row_shipped[\"total\"] = row.statistics.total_shipped;\n    //\n    //     tmpRow_date.push({\n    //         title:\"생산\",\n    //         id: `product_${random}`,\n    //         ...tmp_row_produced\n    //     })\n    //\n    //     tmpRow_date.push({\n    //         title:\"납품\",\n    //         id: `product_${random+1}`,\n    //         ...tmp_row_shipped\n    //     })\n    // })\n  }, [dateData]);\n  return __jsx(ScrollSync, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    style: {\n      display: \"flex\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 13\n    }\n  }, onTitleModal && __jsx(TitleCreateModal, {\n    title: \"저장할 데이터 제목\",\n    changeState: setOnTitleModal,\n    selectList: selectList,\n    selectDate: selectDate,\n    rowData: rowData,\n    LoadData: LoadData,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 30\n    }\n  }), onDataLoadModal && __jsx(StockSearchModal, {\n    onDataLoadModal: onDataLoadModal,\n    setOnDataLoadModal: setOnDataLoadModal,\n    onChangeSelectDate: changeSelectDate,\n    setModalResult: setModalResult,\n    setState: setState,\n    changeSelectMonth: changeSelectMonth,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 33\n    }\n  }), __jsx(MenuNavigation, {\n    pageType: 'MES',\n    subType: 3,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 17\n    }\n  }), __jsx(\"div\", {\n    style: {\n      width: 1576\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 17\n    }\n  }, __jsx(ProfileHeader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 21\n    }\n  }), __jsx(PageHeader, {\n    title: \"생산/납품 현황(관리자용)\",\n    buttons: [\"데이터 불러오기\", onHide ? \"선택 행 숨김 취소\" : \"선택 행 숨김\", \"저장하기\", \"엑셀로 받기\"],\n    buttonsOnclick: buttonClickEvents,\n    isSearch: true,\n    searchOptionList: [\"고객사명\", \"고객사 모델\", \"CODE\", \"품명\"],\n    onChangeSearchOption: setOption,\n    isCalendar: true,\n    searchKeyword: keyword,\n    onChangeSearchKeyword: setKeyword,\n    calendarType: \"month\",\n    onChangeSelectDate: changeSelectDate,\n    selectDate: selectMonth,\n    setSelectDate: changeSelectMonth,\n    setState: setState,\n    dataLimit: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 21\n    }\n  }), modalResult && modalResult.name && state === \"select\" && __jsx(\"p\", {\n    style: {\n      color: \"white\",\n      fontSize: \"20px\",\n      fontWeight: \"bold\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 25\n    }\n  }, modalResult.name), __jsx(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 21\n    }\n  }, __jsx(ScrollSyncPane, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 25\n    }\n  }, __jsx(ExcelTable, {\n    headerList: [SelectColumn].concat(_toConsumableArray(column)),\n    setHeaderList: function setHeaderList(value) {\n      // value.splice(0,1);\n      value.map(function (v, i) {\n        if (v.name === \"\") {\n          value.splice(i, 1);\n        }\n      });\n      setColumn(_toConsumableArray(value));\n    },\n    selectList: selectList,\n    setSelectList: setSelectList,\n    row: rowData,\n    setRow: setRowData,\n    width: excelTableWidths.model,\n    rowHeight: 80,\n    overflow: \"hidden\",\n    resizable: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 29\n    }\n  })), __jsx(ScrollSyncPane, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 25\n    }\n  }, __jsx(ExcelTable, {\n    headerList: dateColumn,\n    row: dateData,\n    setRow: setDateData,\n    maxWidth: excelTableWidths.data,\n    rowHeight: 40,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 29\n    }\n  }))))));\n};\n\n_s(Productlist, \"Pv8VNXU9QuWnh36ZGl7hHlULC4I=\");\n\n_c = Productlist;\nexport default Productlist;\n\nvar _c;\n\n$RefreshReg$(_c, \"Productlist\");","map":{"version":3,"sources":["/Users/user/Desktop/sizl/mono_pop/packages/main/pages/mes/stock/admin/index.tsx"],"names":["React","useEffect","useState","MenuNavigation","ProfileHeader","PageHeader","ExcelTable","RequestMethod","columnlist","SelectColumn","Notiflix","ScrollSync","ScrollSyncPane","ProductTitleFomatter","moment","UnitContainer","excelDownload","TitleCreateModal","StockSearchModal","TextEditor","Productlist","state","setState","rowData","setRowData","dateData","setDateData","stockProduct","column","setColumn","stockDate","dateColumn","setDateColumn","Set","selectList","setSelectList","Date","startOf","format","selectMonth","setSelectMonth","changeSelectMonth","value","keyword","setKeyword","option","setOption","from","to","endOf","selectDate","setSelectDate","onTitleModal","setOnTitleModal","onDataLoadModal","setOnDataLoadModal","changeSelectDate","modalResult","setModalResult","model","data","excelTableWidths","setExcelTableWidths","onHide","setOnHide","LoadData","Loading","standard","path","tab","params","opt","res","status","cleanUpData","remove","SelectLoadData","summary_id","version","tmpColumn","tmpRow","tmpRow_date","result","totalWidth","map","index","menuData","results","menus","menu","colName","key","id","name","title","width","unit","filter","v","summaries","length","statistics","logs","col","push","date","editor","formatter","unitData","frozen","tmpBasicRow_model","row","random_id","Math","random","undefined","customer_id","product","raw_material","customer","customer_idPK","cm_id","cm_idPK","code","tmp_row_produced","tmp_row_shipped","log","produced","shipped","carryforward","total_produced","total_shipped","downloadExcel","tmpSelectList","tmpSelectListData","has","sumProducedObject","sumShippedObject","Object","keys","buttonClickEvents","number","selectIndex","tmp","temp","reverse","modelWidth","i","floor","Number","display","color","fontSize","fontWeight","justifyContent","splice"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport MenuNavigation from \"../../../../component/MenuNav/MenuNavigation\";\nimport ProfileHeader from \"../../../../component/Profile/ProfileHeader\";\nimport PageHeader from \"../../../../component/Header/Header\";\nimport ExcelTable from \"../../../../component/Excel/ExcelTable\";\nimport {RequestMethod} from \"../../../../common/RequestFunctions\";\nimport {columnlist} from \"../../../../common/columnInit\";\nimport {IExcelHeaderType} from \"../../../../common/@types/type\";\n//@ts-ignore\nimport {SelectColumn} from \"react-data-grid\";\n//@ts-ignore\nimport Notiflix from \"notiflix\";\nimport {ScrollSync, ScrollSyncPane} from \"react-scroll-sync\";\nimport ProductTitleFomatter from \"../../../../component/Formatter/ProductTitleFomatter\";\nimport moment from \"moment\";\nimport UnitContainer from \"../../../../component/Unit/UnitContainer\";\nimport {excelDownload} from \"../../../../common/excelDownloadFunction\";\nimport TitleCreateModal from \"../../../../component/Modal/TitleCreateModal\";\nimport StockSearchModal from \"../../../../component/Modal/StockSearchModal\";\nimport TextEditor from \"../../../../component/InputBox/ExcelBasicInputBox\";\n\nconst Productlist = () => {\n\n    const [state, setState] = useState<\"local\" | \"select\">(\"local\");\n    const [rowData, setRowData] = useState<any[]>([]);\n    const [dateData, setDateData] = useState<any[]>([]);\n    const [column, setColumn] = useState<Array<IExcelHeaderType>>(columnlist.stockProduct);\n    const [dateColumn, setDateColumn] = useState<Array<IExcelHeaderType>>(columnlist.stockDate);\n\n    const [selectList, setSelectList] = useState<ReadonlySet<number>>(new Set());\n\n    const [selectMonth, setSelectMonth] = useState<string>(moment(new Date()).startOf(\"month\").format('YYYY-MM'))\n\n    const changeSelectMonth = (value:string) => {\n        setSelectMonth(value);\n    }\n\n    const [keyword, setKeyword] = useState<string>(\"\");\n    const [option, setOption] = useState<number>(0)\n\n    const [selectDate, setSelectDate] = useState<{from:string, to:string}>({\n        from: moment(new Date()).startOf(\"month\").format('YYYY-MM-DD') ,\n        to:  moment(new Date()).endOf(\"month\").format('YYYY-MM-DD')\n    });\n\n    const [onTitleModal, setOnTitleModal] = useState<boolean>(false);\n\n    const [onDataLoadModal, setOnDataLoadModal] = useState<boolean>(false);\n\n    const changeSelectDate = (from:string, to:string) => {\n        setSelectDate({from:from, to:to});\n    }\n\n    const [modalResult, setModalResult] = useState<any>();\n\n    const [excelTableWidths, setExcelTableWidths] = useState<{model:number, data:number}>({model:0, data:0});\n\n    const [onHide, setOnHide] = useState<boolean>(false);\n\n    const LoadData = async() => {\n        Notiflix.Loading.standard();\n        const res = await RequestMethod('get', 'stockProductList', {\n            path:{\n              tab:\"ROLE_STK_03\"\n            },\n            params:{\n                keyword:keyword,\n                opt:option,\n                from:selectDate.from,\n                to:selectDate.to\n            }\n        });\n\n        if(res && res.status === 200 ){\n            // if(res.results.summaries.length > 0){\n            cleanUpData(res, \"model\");\n            cleanUpData(res, \"date\");\n            // }\n            Notiflix.Loading.remove(300);\n        }\n    }\n\n    const SelectLoadData = async() => {\n\n        Notiflix.Loading.standard();\n        const res = await RequestMethod('get', 'summaryFetch', {\n            path:{\n                tab:\"ROLE_STK_03\",\n                summary_id:modalResult.summary_id,\n            },\n            params:{\n                keyword:keyword ?? \"\",\n                opt:option,\n                from:modalResult.from,\n                to:modalResult.to\n            }\n        })\n        if(res && res.status === 200 ){\n            // if(res.results.summaries.length > 0){\n            cleanUpData(res, \"model\");\n            cleanUpData(res, \"date\");\n            // }\n            Notiflix.Loading.remove(300);\n        }\n    }\n\n    const cleanUpData = async(res: any, version:string) => {\n        let tmpColumn = columnlist.stockProduct;\n        let tmpRow = [];\n        let tmpRow_date = [];\n        let result = [];\n        let totalWidth = 0;\n        switch (version){\n            case \"model\":\n                tmpColumn = columnlist.stockProduct.map((column: any, index) => {\n                    let menuData: object | undefined;\n                    res.results.menus && res.results.menus.map((menu: any) => {\n                        if(menu.colName === column.key){\n                            menuData = {\n                                id: menu.id,\n                                name: menu.title,\n                                width: menu.width,\n                                tab:menu.tab,\n                                unit:menu.unit,\n                            }\n                        } else if(menu.colName === 'id' && column.key === 'tmpId'){\n                            menuData = {\n                                id: menu.id,\n                                name: menu.title,\n                                width: menu.width,\n                                tab:menu.tab,\n                                unit:menu.unit\n                            }\n                        }\n                    })\n\n                    if(menuData){\n                        return {\n                            ...column,\n                            ...menuData\n                        }\n                    }\n                }).filter((v:any) => v)\n\n                tmpColumn.map((v)=>{\n                    totalWidth +=v.width\n                })\n                setExcelTableWidths({data:1576-totalWidth, model:totalWidth})\n                setColumn([...tmpColumn]);\n\n                break;\n                return\n            case \"date\":\n\n                if(res.results.summaries.length > 0){\n                    tmpColumn = res.results.summaries[0].statistics.logs.map((col)=>{\n                        result.push(\n                            {key:col.date, name:col.date, editor: TextEditor, formatter: UnitContainer, unitData: 'EA', width:100},\n                        );\n                    })\n                    setDateColumn([\n                        {key:\"title\", name:\"생산/납품\", formatter:ProductTitleFomatter, width:100, frozen:true},\n                        {key:\"carryforward\", name:\"전월 이월\", width:100, formatter: UnitContainer, unitData:\"EA\", frozen:true},\n                        {key:\"total\", name:\"합계\", width:100, formatter: UnitContainer, unitData:\"EA\", frozen:true},\n                        ...result,\n                    ]);\n                    result = [];\n                }else{\n                    result = [];\n\n                }\n                break;\n                return\n            default :\n                break;\n                return\n        }\n\n        tmpRow = res.results.summaries\n\n        let tmpBasicRow_model = tmpRow.map((row: any, index: number) => {\n            let random_id = Math.random()*1000;\n            const summary_id = res.results.summary_id ?? undefined;\n            return {\n                ...row,\n                customer_id: (index === 0 || tmpRow[index-1].product.raw_material.model.customer.customer_id !== row.product.raw_material.model.customer.customer_id) ?\n                    row.product.raw_material.model.customer.name : undefined,\n                customer_idPK: row.product.raw_material.model.customer.customer_id,\n                cm_id:row.product.raw_material.model.model,\n                cm_idPK: row.product.raw_material.model.cm_id,\n                model:row.product.raw_material.model.model,\n                code:row.product.raw_material.code,\n                name: row.product.raw_material.name,\n                summary_id: summary_id,\n                id: `product_${random_id}`,\n            }\n        })\n\n        tmpRow.map((row: any, index: number) => {\n            let random = Math.random()*1000;\n            let tmp_row_produced = {};\n            let tmp_row_shipped = {};\n            row.statistics.logs.map((log)=>{\n                tmp_row_produced[log.date] = log.produced;\n                tmp_row_shipped[log.date] = log.shipped;\n            })\n\n            tmp_row_produced[\"carryforward\"] = row.statistics.carryforward;\n            tmp_row_produced[\"total\"] = row.statistics.total_produced + row.statistics.carryforward;\n            tmp_row_shipped[\"total\"] = row.statistics.total_shipped;\n\n            tmpRow_date.push({\n                title:\"생산\",\n                id: `product_${random}`,\n                ...tmp_row_produced\n            })\n\n            tmpRow_date.push({\n                title:\"납품\",\n                id: `product_${random+1}`,\n                ...tmp_row_shipped\n            })\n        })\n\n\n        if(version === \"model\"){\n            setRowData([...tmpBasicRow_model])\n        }else if(version === \"date\"){\n            setDateData([...tmpRow_date]);\n        }\n    }\n\n    const downloadExcel = () => {\n        let tmpSelectList: boolean[] = []\n        let tmpSelectListData:any[] = []\n        rowData.map(row => {\n            tmpSelectList.push(selectList.has(row.id))\n            tmpSelectList.push(selectList.has(row.id))\n            // if(selectList.has(row.id)){\n                let sumProducedObject:any = {};\n                let sumShippedObject:any = {};\n                Object.keys(row).map((value)=>{\n                    if(value === \"statistics\"){\n                        row[value].logs.map((data)=>{\n                            sumProducedObject[data.date] =  data.produced;\n                            sumShippedObject[data.date] = data.shipped;\n                        })\n                    }else{\n                        sumProducedObject[value] = row[value];\n                    }\n                })\n\n                sumProducedObject[\"title\"] = \"생산\";\n                sumProducedObject[\"carryforward\"] = row.statistics.carryforward;\n                sumProducedObject[\"total\"] = row.statistics.total_produced;\n\n                sumShippedObject[\"title\"] = \"납품\";\n                // sumShippedObject[\"carryforward\"] = row.statistics.carryforward;\n                sumShippedObject[\"total\"] = row.statistics.total_shipped;\n\n                tmpSelectListData.push(sumProducedObject);\n                tmpSelectListData.push(sumShippedObject);\n            // }\n        })\n        excelDownload([...column, ...dateColumn], tmpSelectListData, `${selectDate.from} ~ ${selectDate.to} 생산/납품 현황(관리자)`, `${selectDate.from} ~ ${selectDate.to}`, tmpSelectList)\n    }\n\n    const buttonClickEvents = async(number:number) => {\n        switch (number){\n            case 0:\n                setOnDataLoadModal(true)\n                return\n            case 1:\n                let selectIndex = [];\n\n               let tmp = rowData.map((value,index)=>{\n                    if(selectList.has(value.id)){\n                        return\n                    }else{\n                        selectIndex.push(index);\n                        return {...value};\n                    }\n\n                }).filter((v)=>v)\n\n               let temp = [];\n               selectIndex.reverse().map((value,index)=>{\n                   temp.push(dateData[value*2]);\n                   temp.push(dateData[value*2+1]);\n               })\n\n                if(!onHide){\n                    setDateData([...temp])\n\n                   setRowData([...tmp]);\n                }else{\n                    if(state === \"local\"){\n                        LoadData();\n                    }else if(state === \"select\"){\n                        SelectLoadData();\n                    }\n\n                }\n                setOnHide(!onHide);\n\n\n                return\n            case 2:\n                setOnTitleModal(true);\n\n                return\n            case 3:\n                downloadExcel()\n                return\n            default:\n                return\n        }\n    }\n\n    useEffect(()=>{\n        if(state === \"local\"){\n            LoadData();\n        }else if(state === \"select\"){\n            SelectLoadData();\n        }\n    },[selectDate, keyword])\n\n    useEffect(()=>{\n        let modelWidth = 0;\n        column.map((v)=>{\n            modelWidth += v.width;\n        })\n            modelWidth += 36;\n        setExcelTableWidths({...excelTableWidths,data:1576-modelWidth, model:modelWidth})\n\n    },[column])\n\n    useEffect(()=>{\n        dateData.map((v,i)=>{\n            Object.keys(v).map((key,index)=>{\n                if(index > 1 && index < Object.keys(v).length-2 && rowData[Math.floor(i/2)].statistics.logs[index-2]){\n                    if(v.title === \"생산\"){\n                        rowData[Math.floor(i/2)].statistics.logs[index-2].produced = Number(v[key]);\n                    }else if(v.title === \"납품\"){\n                        rowData[Math.floor(i/2)].statistics.logs[index-2].shipped = Number(v[key]);\n                    }\n                }\n            })\n        })\n        setRowData([...rowData])\n\n        // tmpRow.map((row: any, index: number) => {\n        //     let random = Math.random()*1000;\n        //     let tmp_row_produced = {};\n        //     let tmp_row_shipped = {};\n        //     row.statistics.logs.map((log)=>{\n        //         tmp_row_produced[log.date] = log.produced;\n        //         tmp_row_shipped[log.date] = log.shipped;\n        //     })\n        //     tmp_row_produced[\"total\"] = row.statistics.total_produced;\n        //     tmp_row_shipped[\"total\"] = row.statistics.total_shipped;\n        //\n        //     tmpRow_date.push({\n        //         title:\"생산\",\n        //         id: `product_${random}`,\n        //         ...tmp_row_produced\n        //     })\n        //\n        //     tmpRow_date.push({\n        //         title:\"납품\",\n        //         id: `product_${random+1}`,\n        //         ...tmp_row_shipped\n        //     })\n        // })\n    },[dateData])\n\n    return(\n        <ScrollSync >\n            <div style={{display:\"flex\"}}>\n            {onTitleModal && <TitleCreateModal title={\"저장할 데이터 제목\"} changeState={setOnTitleModal} selectList={selectList} selectDate={selectDate} rowData={rowData} LoadData={LoadData} />}\n            {onDataLoadModal && <StockSearchModal\n                                    onDataLoadModal={onDataLoadModal}\n                                    setOnDataLoadModal={setOnDataLoadModal}\n                                    onChangeSelectDate={changeSelectDate}\n                                    setModalResult={setModalResult}\n                                    setState={setState}\n                                    changeSelectMonth={changeSelectMonth}\n                                />\n            }\n                <MenuNavigation pageType={'MES'} subType={3}/>\n                <div style={{width:1576}}>\n                    <ProfileHeader/>\n                    <PageHeader\n                        title={\"생산/납품 현황(관리자용)\"}\n                        buttons={[\"데이터 불러오기\", onHide ? \"선택 행 숨김 취소\" : \"선택 행 숨김\", \"저장하기\", \"엑셀로 받기\"]}\n                        buttonsOnclick={buttonClickEvents}\n                        isSearch={true}\n                        searchOptionList={[\"고객사명\",\"고객사 모델\",\"CODE\", \"품명\"]}\n                        onChangeSearchOption={setOption}\n                        isCalendar={true}\n                        searchKeyword={keyword}\n                        onChangeSearchKeyword={setKeyword}\n                        calendarType={\"month\"}\n                        onChangeSelectDate={changeSelectDate}\n                        selectDate={selectMonth}\n                        setSelectDate={changeSelectMonth}\n                        setState={setState}\n                        dataLimit={true}\n                    />\n                    {modalResult && modalResult.name && state === \"select\" &&\n                        <p style={{color:\"white\", fontSize:\"20px\", fontWeight:\"bold\"}}>{modalResult.name}</p>\n                    }\n                    <div style={{display:\"flex\",justifyContent:\"center\"}}>\n                        <ScrollSyncPane>\n                            <ExcelTable headerList={[\n                                            SelectColumn,\n                                            ...column\n                                        ]}\n                                        setHeaderList={(value) => {\n                                            // value.splice(0,1);\n                                            value.map((v,i)=>{\n                                                if(v.name === \"\"){\n                                                    value.splice(i, 1);\n                                                }\n                                            })\n                                            setColumn([...value])\n                                        }}\n                                        selectList={selectList}\n                                        setSelectList={setSelectList}\n                                        row={rowData} setRow={setRowData} width={excelTableWidths.model} rowHeight={80} overflow={\"hidden\"}\n                                        resizable\n                            />\n                        </ScrollSyncPane>\n                        <ScrollSyncPane>\n                            <ExcelTable headerList={dateColumn} row={dateData} setRow={setDateData} maxWidth={excelTableWidths.data} rowHeight={40} />\n                        </ScrollSyncPane>\n                    </div>\n                </div>\n            </div>\n        </ScrollSync>\n    );\n}\n\nexport default Productlist;\n"]},"metadata":{},"sourceType":"module"}