{"ast":null,"code":"var _jsxFileName = \"/Users/user/Desktop/sizl/mono_pop/packages/main/container/loginPage/index.tsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport DefaultButton from '../../component/DefaultButton';\nimport WelcomeInput from '../../component/InputBox/WelcomeInput';\nimport WelcomeContainer from '../../component/Welcome/WelcomeContainer';\nimport { useRouter } from 'next/router';\nimport { requestApi } from '../../common/RequestFunctions';\nimport { setToken } from '../../common/tokenManager';\nimport Notiflix from 'notiflix';\nimport { useDispatch } from 'react-redux';\nimport { setUserInfoAction } from '../../reducer/userInfo';\n\nconst LoginPage = ({\n  children,\n  data,\n  setData\n}) => {\n  const router = useRouter();\n  const dispatch = useDispatch();\n\n  const onClickLogin = async () => {\n    Notiflix.Loading.dots('MES System 접속 중...');\n    const res = await requestApi('post', '/anonymous/login', data);\n\n    if (res) {\n      if (res.status === 200) {\n        setToken(res.results);\n        dispatch(setUserInfoAction({\n          name: res.results.name,\n          profile: res.results.profilePath\n        }));\n        router.push('/mes/dashboard').then();\n      } else {\n        alert(res.message);\n      }\n    }\n  };\n\n  const onKeyDownEnter = async key => {\n    if (key === 'Enter') await onClickLogin().then(() => Notiflix.Loading.remove(500));\n  };\n\n  return __jsx(WelcomeContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    style: {\n      width: 320\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, __jsx(\"p\", {\n    style: {\n      fontSize: 36,\n      marginBottom: 26,\n      textAlign: 'left',\n      fontFamily: 'Roboto',\n      fontWeight: 'bold'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, \"Log In\"), __jsx(WelcomeInput, {\n    type: \"email\",\n    value: data.id,\n    title: 'ID (e-mail)',\n    onChangeEvent: e => {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        id: e.target.value\n      }));\n    },\n    hint: '이메일을 입력해주세요.',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }), __jsx(WelcomeInput, {\n    type: \"password\",\n    value: data.password,\n    title: 'Password',\n    onChangeEvent: e => {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        password: e.target.value\n      }));\n    },\n    hint: '비밀번호를 입력해주세요.',\n    onKeyDown: onKeyDownEnter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }), __jsx(DefaultButton, {\n    title: '로그인',\n    onClick: () => onClickLogin().then(() => Notiflix.Loading.remove(500)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }), __jsx(\"p\", {\n    style: {\n      marginTop: \"15px\",\n      textDecoration: \"underline\",\n      cursor: 'pointer'\n    },\n    onClick: () => {\n      router.push(\"/mes/modify/findpassword\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, \"\\uBE44\\uBC00\\uBC88\\uD638 \\uCC3E\\uAE30\")));\n};\n\nexport default LoginPage;","map":{"version":3,"sources":["/Users/user/Desktop/sizl/mono_pop/packages/main/container/loginPage/index.tsx"],"names":["React","DefaultButton","WelcomeInput","WelcomeContainer","useRouter","requestApi","setToken","Notiflix","useDispatch","setUserInfoAction","LoginPage","children","data","setData","router","dispatch","onClickLogin","Loading","dots","res","status","results","name","profile","profilePath","push","then","alert","message","onKeyDownEnter","key","remove","width","fontSize","marginBottom","textAlign","fontFamily","fontWeight","id","e","target","value","password","marginTop","textDecoration","cursor"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { NextPage } from 'next'\nimport DefaultButton from '../../component/DefaultButton'\nimport WelcomeInput from '../../component/InputBox/WelcomeInput'\nimport WelcomeContainer from '../../component/Welcome/WelcomeContainer'\nimport { useRouter } from 'next/router'\nimport { requestApi } from '../../common/RequestFunctions'\nimport { IResponseType } from '../../common/@types/type'\nimport { setToken } from '../../common/tokenManager'\nimport Notiflix from 'notiflix'\nimport {useDispatch, useSelector} from 'react-redux'\nimport {setUserInfoAction} from '../../reducer/userInfo'\n\ninterface IProps {\n  children?: any\n  data: IReqType\n  setData: (data: IReqType) => void\n}\n\ninterface IReqType {\n  id: string,\n  password: string\n}\n\nconst LoginPage: NextPage<IProps> = ({children, data, setData }) => {\n  const router = useRouter()\n\n  const dispatch = useDispatch()\n\n\n  const onClickLogin = async () => {\n    Notiflix.Loading.dots('MES System 접속 중...')\n    const res:IResponseType = await requestApi('post', '/anonymous/login', data)\n\n    if(res) {\n      if(res.status === 200) {\n        setToken( res.results )\n        dispatch(setUserInfoAction({\n          name: res.results.name,\n          profile: res.results.profilePath\n        }))\n        router.push('/mes/dashboard').then()\n      } else {\n        alert(res.message)\n      }\n    }\n  }\n\n  const onKeyDownEnter = async (key: string) => {\n    if (key === 'Enter')\n      await onClickLogin().then(() => Notiflix.Loading.remove(500))\n  }\n\n  return (\n    <WelcomeContainer>\n      <div style={{width: 320}}>\n        <p style={{fontSize: 36, marginBottom: 26, textAlign: 'left', fontFamily: 'Roboto', fontWeight: 'bold'}}>Log In</p>\n        <WelcomeInput type=\"email\" value={data.id} title={'ID (e-mail)'}\n                     onChangeEvent={(e: React.ChangeEvent<HTMLInputElement>): void => {\n                       setData({...data, id: e.target.value})\n                   }} hint={'이메일을 입력해주세요.'}/>\n        <WelcomeInput type=\"password\" value={data.password} title={'Password'}\n                     onChangeEvent={(e: React.ChangeEvent<HTMLInputElement>): void => {\n                         setData({...data, password: e.target.value})\n                     }} hint={'비밀번호를 입력해주세요.'} onKeyDown={onKeyDownEnter}/>\n        <DefaultButton title={'로그인'} onClick={() => onClickLogin().then(() => Notiflix.Loading.remove(500) ) } />\n        <p style={{marginTop:\"15px\", textDecoration:\"underline\", cursor: 'pointer'}} onClick={()=>{ router.push(\"/mes/modify/findpassword\")}}>\n          비밀번호 찾기\n        </p>\n      </div>\n    </WelcomeContainer>\n  )\n}\n\nexport default LoginPage\n"]},"metadata":{},"sourceType":"module"}