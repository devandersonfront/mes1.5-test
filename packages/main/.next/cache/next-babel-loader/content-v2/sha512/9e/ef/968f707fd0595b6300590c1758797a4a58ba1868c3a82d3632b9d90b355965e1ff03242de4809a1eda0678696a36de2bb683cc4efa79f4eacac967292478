{"ast":null,"code":"import _regeneratorRuntime from \"/Users/user/Desktop/sizl/mono_pop/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/user/Desktop/sizl/mono_pop/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport Axios from 'axios';\nimport cookie from 'react-cookies';\nimport { SF_ENDPOINT, SF_ENDPOINT_EXCEL } from './configset';\nimport Notiflix from 'notiflix';\nexport var requestApi = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(type, url, data, token, contentsType) {\n    var ENDPOINT, tmpUrl, postUrl;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            ENDPOINT = \"\".concat(SF_ENDPOINT);\n            _context.t0 = type;\n            _context.next = _context.t0 === 'get' ? 4 : _context.t0 === 'post' ? 7 : _context.t0 === 'put' ? 10 : _context.t0 === 'delete' ? 11 : 12;\n            break;\n\n          case 4:\n            tmpUrl = \"\".concat(ENDPOINT).concat(url);\n\n            if (data) {\n              if (data.path) {\n                Object.values(data.path).map(function (v) {\n                  if (v) {\n                    tmpUrl += \"/\".concat(v);\n                  }\n                });\n              }\n\n              if (data.params) {\n                Object.keys(data.params).map(function (v, i) {\n                  if (i === 0) {\n                    tmpUrl += \"?\".concat(v, \"=\").concat(data.params[v]);\n                  } else {\n                    tmpUrl += \"&\".concat(v, \"=\").concat(data.params[v]);\n                  }\n                });\n              }\n            }\n\n            return _context.abrupt(\"return\", Axios.get(tmpUrl, token && {\n              'headers': {\n                'Authorization': token\n              },\n              responseType: contentsType\n            }).then(function (result) {\n              // if(result.data.status !== 200){\n              //   Notiflix.Report.failure('불러올 수 없습니다.', result.data.message, '확인')\n              //   return false\n              // }\n              return result.data;\n            })[\"catch\"](function (error) {\n              if (error.response.status === 406 || error.response.status === 401) {\n                return {\n                  state: 401\n                };\n              } else if (error.response.status === 500) {\n                Notiflix.Report.failure('서버 에러', '서버 에러입니다. 관리자에게 문의하세요', '확인');\n                return false;\n              }\n            }));\n\n          case 7:\n            postUrl = '';\n\n            if (url.indexOf('http://') !== -1) {\n              postUrl = url;\n            } else {\n              postUrl = ENDPOINT + url;\n            }\n\n            return _context.abrupt(\"return\", Axios.post(postUrl, data, token && {\n              'headers': {\n                'Authorization': token\n              },\n              responseType: contentsType\n            }).then(function (result) {\n              return result.data;\n            })[\"catch\"](function (error) {\n              if (error.response.status === 400) {\n                Notiflix.Report.failure('저장할 수 없습니다.', '입력값을 확인해주세요', '확인');\n              } else if (error.response.status === 500) {\n                Notiflix.Report.failure('서버 에러', '서버 에러입니다. 관리자에게 문의하세요', '확인');\n              }\n\n              return false;\n            }));\n\n          case 10:\n            return _context.abrupt(\"return\", Axios.put(ENDPOINT + url, data, token && {\n              'headers': {\n                'Authorization': token\n              },\n              responseType: contentsType\n            }).then(function (result) {\n              if (result.data.status !== 200) {\n                Notiflix.Report.failure('저장할 수 없습니다.', result.data.message, '확인');\n                return false;\n              }\n\n              return result;\n            })[\"catch\"](function (error) {\n              return false;\n            }));\n\n          case 11:\n            return _context.abrupt(\"return\", Axios[\"delete\"](ENDPOINT + url, token && {\n              'headers': {\n                'Authorization': token\n              },\n              responseType: contentsType,\n              data: data\n            }).then(function (result) {\n              if (result.data.status !== 200) {\n                Notiflix.Report.failure('삭제할 수 없습니다.', result.data.message, '확인');\n                return false;\n              }\n\n              return result;\n            })[\"catch\"](function (error) {\n              if (error.response.status === 400) {\n                Notiflix.Report.failure('삭제할 수 없습니다.', '입력값을 확인해주세요', '확인');\n              }\n\n              return false;\n            }));\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function requestApi(_x, _x2, _x3, _x4, _x5) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var RequestMethod = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(MethodType, apiType, data, token, responseType) {\n    var tokenData, tmpUrl, response;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            tokenData = token !== null && token !== void 0 ? token : cookie.load('userInfo').token;\n\n            if (!(apiType === 'excelDownload')) {\n              _context2.next = 5;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", Axios.post(ApiList[apiType], data, tokenData && {\n              'headers': {\n                'Authorization': tokenData\n              },\n              responseType: responseType\n            }).then(function (result) {\n              return result.data;\n            })[\"catch\"](function (error) {\n              if (error.response.status === 400) {\n                Notiflix.Report.failure('저장할 수 없습니다.', '입력값을 확인해주세요', '확인');\n              } else if (error.response.status === 500) {\n                Notiflix.Report.failure('서버 에러', '서버 에러입니다. 관리자에게 문의하세요', '확인');\n              }\n\n              return false;\n            }));\n\n          case 5:\n            if (!(apiType === 'excelFormatDownload')) {\n              _context2.next = 11;\n              break;\n            }\n\n            tmpUrl = ApiList[apiType];\n\n            if (data) {\n              if (data.path) {\n                Object.values(data.path).map(function (v) {\n                  if (v) {\n                    tmpUrl += \"/\".concat(v);\n                  }\n                });\n              }\n\n              if (data.params) {\n                Object.keys(data.params).map(function (v, i) {\n                  if (i === 0) {\n                    tmpUrl += \"?\".concat(v, \"=\").concat(data.params[v]);\n                  } else {\n                    tmpUrl += \"&\".concat(v, \"=\").concat(data.params[v]);\n                  }\n                });\n              }\n            }\n\n            return _context2.abrupt(\"return\", Axios.get(tmpUrl, tokenData && {\n              'headers': {\n                'Authorization': tokenData\n              },\n              responseType: responseType\n            }).then(function (result) {\n              return result.data;\n            })[\"catch\"](function (error) {\n              if (error.response.status === 400) {\n                Notiflix.Report.failure('저장할 수 없습니다.', '입력값을 확인해주세요', '확인');\n              } else if (error.response.status === 500) {\n                Notiflix.Report.failure('서버 에러', '서버 에러입니다. 관리자에게 문의하세요', '확인');\n              }\n\n              return false;\n            }));\n\n          case 11:\n            _context2.next = 13;\n            return requestApi(MethodType, ApiList[apiType], data, tokenData, responseType);\n\n          case 13:\n            response = _context2.sent;\n            return _context2.abrupt(\"return\", response);\n\n          case 15:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function RequestMethod(_x6, _x7, _x8, _x9, _x10) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n_c = RequestMethod;\nvar ApiList = {\n  //create\n  authorityCreate: \"/api/v1/member/auth/create\",\n  //update\n  authorityUpdate: \"/api/v1/member/auth/update\",\n  //save\n  memberSave: \"/api/v1/member/save\",\n  customerSave: \"/api/v1/customer/save\",\n  modelSave: \"/api/v1/customer/model/save\",\n  processSave: \"/api/v1/process/save\",\n  machineSave: \"/api/v1/machine/save\",\n  productSave: \"/api/v1/product/save\",\n  rawmaterialSave: \"/api/v1/rawmaterial/save\",\n  moldSave: \"/api/v1/mold/save\",\n  pauseSave: \"/api/v1/process/reason/pause/save\",\n  defectSave: \"/api/v1/process/reason/defect/save\",\n  rawinSave: \"/api/v1/rawmaterial/warehouse/save\",\n  rawstockSave: \"/api/v1/rawmaterial/warehouse/save\",\n  productprocessSave: \"/api/v1/product/process/save\",\n  stockSummarySave: \"/api/v1/stock/summary/save\",\n  operationSave: \"/api/v1/operation/save\",\n  shipmentSave: \"/api/v1/shipment/save\",\n  recordSave: \"/api/v1/record/save\",\n  //modify\n  operationModify: \"/api/v1/operation/modify\",\n  //load\n  authorityLoad: \"/api/v1/member/auth/load\",\n  //recent\n  operationRecent: \"/api/v1/operation/recent\",\n  //delete\n  authorityDelete: \"/api/v1/member/auth/delete\",\n  memberDelete: \"/api/v1/member/delete\",\n  customerDelete: \"/api/v1/customer/delete\",\n  modelDelete: \"/api/v1/customer/model/delete\",\n  processDelete: \"/api/v1/process/delete\",\n  machineDelete: \"/api/v1/machine/delete\",\n  productDelete: \"/api/v1/product/delete\",\n  rawmaterialDelete: \"/api/v1/rawmaterial/delete\",\n  moldDelete: \"/api/v1/mold/delete\",\n  pauseDelete: \"/api/v1/process/reason/pause/delete\",\n  defectDelete: \"/api/v1/process/reason/defect/delete\",\n  rawinDelete: \"/api/v1/rawmaterial/warehouse/delete\",\n  operationDelete: \"/api/v1/operation/delete\",\n  shipmentDelete: '/api/v1/shipment/delete',\n  stockSummaryDelete: \"/api/v1/stock/summary/delete\",\n  //list\n  authorityList: \"/api/v1/member/auth/list\",\n  memberList: \"/api/v1/member/list\",\n  customerList: \"/api/v1/customer/list\",\n  modelList: \"/api/v1/customer/model/list\",\n  processList: \"/api/v1/process/list\",\n  machineList: \"/api/v1/machine/list\",\n  productList: \"/api/v1/product/list\",\n  rawmaterialList: \"/api/v1/rawmaterial/list\",\n  moldList: \"/api/v1/mold/list\",\n  pauseReasonList: '/api/v1/process/reason/pause/list',\n  defectReasonList: '/api/v1/process/reason/defect/list',\n  rawinList: \"/api/v1/rawmaterial/warehouse/list\",\n  rawstockList: \"/api/v1/rawmaterial/warehouse/list\",\n  productprocessList: \"/api/v1/product/process/load\",\n  stockList: '/api/v1/stock/list',\n  stockProductList: '/api/v1/stock/summary',\n  stockSummaryList: '/api/v1/stock/summary/list',\n  operactionList: \"/api/v1/operation/list\",\n  defectList: \"/api/v1/quality/statistics/defect\",\n  shipmentList: '/api/v1/shipment/list',\n  recordList: \"/api/v1/record/list\",\n  recordSumList: \"/api/v1/record/summation/list\",\n  //search\n  memberSearch: \"/api/v1/member/search\",\n  customerSearch: \"/api/v1/customer/search\",\n  modelSearch: \"/api/v1/customer/model/search\",\n  processSearch: \"/api/v1/process/search\",\n  machineSearch: \"/api/v1/machine/search\",\n  productSearch: \"/api/v1/product/search\",\n  pauseSearch: \"/api/v1/process/reason/pause/search\",\n  rawmaterialSearch: \"/api/v1/rawmaterial/search\",\n  moldSearch: \"/api/v1/mold/search\",\n  defectReasonSearch: \"/api/v1/process/reason/defect/search\",\n  rawinSearch: \"/api/v1/rawmaterial/warehouse/search\",\n  rawstockSearch: \"/api/v1/rawmaterial/warehouse/search\",\n  stockSearch: '/api/v1/stock/search',\n  operationSearch: \"/api/v1/operation/search\",\n  recordSearch: \"/api/v1/record/search\",\n  shipmentSearch: \"/api/v1/shipment/search\",\n  recordSumSearch: \"/api/v1/record/summation/search\",\n  recordDefect: \"/api/v1/record/defect\",\n  recordPause: \"/api/v1/record/pause\",\n  itemList: \"/api/v1/items/list\",\n  itemSave: \"/api/v1/items/save\",\n  itemDelete: \"/api/v1/items/delete\",\n  //all\n  authorityAll: \"/api/v1/member/auth/all\",\n  //fetch\n  summaryFetch: \"/api/v1/stock/summary/fetch\",\n  excelDownload: \"\".concat(SF_ENDPOINT_EXCEL, \"/api/v1/download\"),\n  excelFormatDownload: \"\".concat(SF_ENDPOINT_EXCEL, \"/api/v1/format/download\"),\n  excelUpload: \"\".concat(SF_ENDPOINT_EXCEL, \"/api/v1/format/upload\")\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"RequestMethod\");","map":{"version":3,"sources":["/Users/user/Desktop/sizl/mono_pop/packages/main/common/RequestFunctions.ts"],"names":["Axios","cookie","SF_ENDPOINT","SF_ENDPOINT_EXCEL","Notiflix","requestApi","type","url","data","token","contentsType","ENDPOINT","tmpUrl","path","Object","values","map","v","params","keys","i","get","responseType","then","result","error","response","status","state","Report","failure","postUrl","indexOf","post","put","message","RequestMethod","MethodType","apiType","tokenData","load","ApiList","authorityCreate","authorityUpdate","memberSave","customerSave","modelSave","processSave","machineSave","productSave","rawmaterialSave","moldSave","pauseSave","defectSave","rawinSave","rawstockSave","productprocessSave","stockSummarySave","operationSave","shipmentSave","recordSave","operationModify","authorityLoad","operationRecent","authorityDelete","memberDelete","customerDelete","modelDelete","processDelete","machineDelete","productDelete","rawmaterialDelete","moldDelete","pauseDelete","defectDelete","rawinDelete","operationDelete","shipmentDelete","stockSummaryDelete","authorityList","memberList","customerList","modelList","processList","machineList","productList","rawmaterialList","moldList","pauseReasonList","defectReasonList","rawinList","rawstockList","productprocessList","stockList","stockProductList","stockSummaryList","operactionList","defectList","shipmentList","recordList","recordSumList","memberSearch","customerSearch","modelSearch","processSearch","machineSearch","productSearch","pauseSearch","rawmaterialSearch","moldSearch","defectReasonSearch","rawinSearch","rawstockSearch","stockSearch","operationSearch","recordSearch","shipmentSearch","recordSumSearch","recordDefect","recordPause","itemList","itemSave","itemDelete","authorityAll","summaryFetch","excelDownload","excelFormatDownload","excelUpload"],"mappings":"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","sourcesContent":["import Axios, {AxiosError} from 'axios'\nimport cookie from 'react-cookies'\nimport {SF_ENDPOINT, SF_ENDPOINT_EXCEL} from './configset'\nimport Notiflix from 'notiflix'\n\ntype RequestType = 'get' | 'post' | 'delete' | 'put'\n\nexport const requestApi = async (type: RequestType,url: string, data?: any, token?: any, contentsType?: 'blob') => {\n\n  const ENDPOINT = `${SF_ENDPOINT}`\n\n  switch(type){\n    case 'get':\n      let tmpUrl = `${ENDPOINT}${url}`\n\n      if(data){\n        if(data.path){\n          Object.values(data.path).map(v => {\n            if(v){\n              tmpUrl += `/${v}`\n            }\n          })\n        }\n        if(data.params){\n          Object.keys(data.params).map((v, i) => {\n            if(i === 0) {\n              tmpUrl += `?${v}=${data.params[v]}`\n            }else{\n              tmpUrl += `&${v}=${data.params[v]}`\n            }\n          })\n        }\n      }\n      return Axios.get(tmpUrl, token && {'headers': {'Authorization': token}, responseType: contentsType})\n        .then((result) => {\n          // if(result.data.status !== 200){\n          //   Notiflix.Report.failure('불러올 수 없습니다.', result.data.message, '확인')\n          //   return false\n          // }\n          return result.data\n        })\n        .catch((error) => {\n          if(error.response.status === 406 || error.response.status === 401) {\n            return {\n              state: 401\n            }\n          }else if(error.response.status === 500){\n            Notiflix.Report.failure('서버 에러', '서버 에러입니다. 관리자에게 문의하세요', '확인')\n            return false\n          }\n        })\n    case 'post':\n      let postUrl:string = ''\n      if(url.indexOf('http://') !== -1){\n        postUrl = url\n      }else{\n        postUrl = ENDPOINT+url\n      }\n\n      return Axios.post(postUrl, data, token && {'headers': {'Authorization': token}, responseType: contentsType})\n        .then((result) => {\n          return result.data\n        })\n        .catch((error) => {\n          if(error.response.status === 400) {\n            Notiflix.Report.failure('저장할 수 없습니다.', '입력값을 확인해주세요', '확인')\n          }else if(error.response.status === 500){\n            Notiflix.Report.failure('서버 에러', '서버 에러입니다. 관리자에게 문의하세요', '확인')\n          }\n          return false\n        })\n    case 'put':\n      return Axios.put(ENDPOINT+url, data,token && {'headers': {'Authorization': token}, responseType: contentsType})\n        .then((result) => {\n          if(result.data.status !== 200){\n            Notiflix.Report.failure('저장할 수 없습니다.', result.data.message, '확인')\n            return false\n          }\n          return result\n        })\n        .catch((error: AxiosError) => {\n          return false\n        })\n    case 'delete':\n      return Axios.delete(ENDPOINT+url, token && {\n        'headers': {'Authorization': token}, responseType: contentsType,\n        data: data\n      })\n        .then((result) => {\n          if(result.data.status !== 200){\n            Notiflix.Report.failure('삭제할 수 없습니다.', result.data.message, '확인')\n            return false\n          }\n          return result\n        })\n        .catch((error) => {\n          if(error.response.status === 400) {\n            Notiflix.Report.failure('삭제할 수 없습니다.', '입력값을 확인해주세요', '확인')\n          }\n          return false\n        })\n  }\n}\n\nexport const RequestMethod = async (MethodType: RequestType, apiType: string, data?: any, token?: string, responseType?: 'blob') => {\n  const tokenData = token ?? cookie.load('userInfo').token\n  if(apiType === 'excelDownload'){\n    return Axios.post(ApiList[apiType], data, tokenData && {'headers': {'Authorization': tokenData}, responseType: responseType})\n      .then((result) => {\n        return result.data\n      })\n      .catch((error) => {\n        if(error.response.status === 400) {\n          Notiflix.Report.failure('저장할 수 없습니다.', '입력값을 확인해주세요', '확인')\n        }else if(error.response.status === 500){\n          Notiflix.Report.failure('서버 에러', '서버 에러입니다. 관리자에게 문의하세요', '확인')\n        }\n        return false\n      })\n  }else if( apiType === 'excelFormatDownload'){\n\n    let tmpUrl = ApiList[apiType]\n\n    if(data){\n      if(data.path){\n        Object.values(data.path).map(v => {\n          if(v){\n            tmpUrl += `/${v}`\n          }\n        })\n      }\n      if(data.params){\n        Object.keys(data.params).map((v, i) => {\n          if(i === 0) {\n            tmpUrl += `?${v}=${data.params[v]}`\n          }else{\n            tmpUrl += `&${v}=${data.params[v]}`\n          }\n        })\n      }\n    }\n\n    return Axios.get(tmpUrl, tokenData && {'headers': {'Authorization': tokenData}, responseType: responseType})\n      .then((result) => {\n        return result.data\n      })\n      .catch((error) => {\n        if(error.response.status === 400) {\n          Notiflix.Report.failure('저장할 수 없습니다.', '입력값을 확인해주세요', '확인')\n        }else if(error.response.status === 500){\n          Notiflix.Report.failure('서버 에러', '서버 에러입니다. 관리자에게 문의하세요', '확인')\n        }\n        return false\n      })\n  } else {\n    const response = await requestApi(MethodType, ApiList[apiType], data, tokenData, responseType)\n    return response\n  }\n}\n\n\nconst ApiList = {\n  //create\n  authorityCreate: `/api/v1/member/auth/create`,\n\n  //update\n  authorityUpdate: `/api/v1/member/auth/update`,\n\n  //save\n  memberSave: `/api/v1/member/save`,\n  customerSave: `/api/v1/customer/save`,\n  modelSave: `/api/v1/customer/model/save`,\n  processSave: `/api/v1/process/save`,\n  machineSave: `/api/v1/machine/save`,\n  productSave: `/api/v1/product/save`,\n  rawmaterialSave: `/api/v1/rawmaterial/save`,\n  moldSave: `/api/v1/mold/save`,\n  pauseSave: `/api/v1/process/reason/pause/save`,\n  defectSave: `/api/v1/process/reason/defect/save`,\n  rawinSave: `/api/v1/rawmaterial/warehouse/save`,\n  rawstockSave: `/api/v1/rawmaterial/warehouse/save`,\n  productprocessSave: `/api/v1/product/process/save`,\n  stockSummarySave: `/api/v1/stock/summary/save`,\n  operationSave: `/api/v1/operation/save`,\n  shipmentSave: `/api/v1/shipment/save`,\n  recordSave: `/api/v1/record/save`,\n\n  //modify\n  operationModify: `/api/v1/operation/modify`,\n\n  //load\n  authorityLoad: `/api/v1/member/auth/load`,\n\n  //recent\n  operationRecent:`/api/v1/operation/recent`,\n\n  //delete\n  authorityDelete: `/api/v1/member/auth/delete`,\n  memberDelete: `/api/v1/member/delete`,\n  customerDelete: `/api/v1/customer/delete`,\n  modelDelete: `/api/v1/customer/model/delete`,\n  processDelete: `/api/v1/process/delete`,\n  machineDelete: `/api/v1/machine/delete`,\n  productDelete: `/api/v1/product/delete`,\n  rawmaterialDelete: `/api/v1/rawmaterial/delete`,\n  moldDelete: `/api/v1/mold/delete`,\n  pauseDelete: `/api/v1/process/reason/pause/delete`,\n  defectDelete: `/api/v1/process/reason/defect/delete`,\n  rawinDelete: `/api/v1/rawmaterial/warehouse/delete`,\n  operationDelete: `/api/v1/operation/delete`,\n  shipmentDelete: '/api/v1/shipment/delete',\n  stockSummaryDelete: `/api/v1/stock/summary/delete`,\n\n  //list\n  authorityList: `/api/v1/member/auth/list`,\n  memberList: `/api/v1/member/list`,\n  customerList: `/api/v1/customer/list`,\n  modelList: `/api/v1/customer/model/list`,\n  processList: `/api/v1/process/list`,\n  machineList: `/api/v1/machine/list`,\n  productList: `/api/v1/product/list`,\n  rawmaterialList: `/api/v1/rawmaterial/list`,\n  moldList: `/api/v1/mold/list`,\n  pauseReasonList: '/api/v1/process/reason/pause/list',\n  defectReasonList: '/api/v1/process/reason/defect/list',\n  rawinList: `/api/v1/rawmaterial/warehouse/list`,\n  rawstockList: `/api/v1/rawmaterial/warehouse/list`,\n  productprocessList: `/api/v1/product/process/load`,\n  stockList: '/api/v1/stock/list',\n  stockProductList: '/api/v1/stock/summary',\n  stockSummaryList: '/api/v1/stock/summary/list',\n  operactionList: `/api/v1/operation/list`,\n  defectList: `/api/v1/quality/statistics/defect`,\n  shipmentList: '/api/v1/shipment/list',\n  recordList: `/api/v1/record/list`,\n  recordSumList: `/api/v1/record/summation/list`,\n\n  //search\n  memberSearch: `/api/v1/member/search`,\n  customerSearch: `/api/v1/customer/search`,\n  modelSearch: `/api/v1/customer/model/search`,\n  processSearch: `/api/v1/process/search`,\n  machineSearch: `/api/v1/machine/search`,\n  productSearch: `/api/v1/product/search`,\n  pauseSearch: `/api/v1/process/reason/pause/search`,\n  rawmaterialSearch: `/api/v1/rawmaterial/search`,\n  moldSearch: `/api/v1/mold/search`,\n  defectReasonSearch: `/api/v1/process/reason/defect/search`,\n  rawinSearch: `/api/v1/rawmaterial/warehouse/search`,\n  rawstockSearch: `/api/v1/rawmaterial/warehouse/search`,\n  stockSearch: '/api/v1/stock/search',\n  operationSearch: `/api/v1/operation/search`,\n  recordSearch: `/api/v1/record/search`,\n  shipmentSearch: `/api/v1/shipment/search`,\n  recordSumSearch: `/api/v1/record/summation/search`,\n\n  recordDefect: `/api/v1/record/defect`,\n  recordPause: `/api/v1/record/pause`,\n\n  itemList: `/api/v1/items/list`,\n  itemSave: `/api/v1/items/save`,\n  itemDelete: `/api/v1/items/delete`,\n\n  //all\n  authorityAll: `/api/v1/member/auth/all`,\n\n  //fetch\n  summaryFetch: `/api/v1/stock/summary/fetch`,\n  excelDownload: `${SF_ENDPOINT_EXCEL}/api/v1/download`,\n  excelFormatDownload: `${SF_ENDPOINT_EXCEL}/api/v1/format/download`,\n  excelUpload: `${SF_ENDPOINT_EXCEL}/api/v1/format/upload`\n}\n"]},"metadata":{},"sourceType":"module"}