{"ast":null,"code":"var _jsxFileName = \"/Users/user/Desktop/sizl/mono_pop/packages/main/component/Modal/TitleCreateModal.tsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { RequestMethod } from \"../../common/RequestFunctions\"; //@ts-ignore\n\nimport Notiflix from \"notiflix\";\n\nconst TitleCreateModal = ({\n  title,\n  changeState,\n  rowData,\n  selectList,\n  selectDate,\n  LoadData\n}) => {\n  const {\n    0: inputTitle,\n    1: setInputTitle\n  } = useState(\"\");\n\n  const saveData = async result => {\n    const res = await RequestMethod('post', \"stockSummarySave\", _objectSpread({}, result));\n\n    if (res && res.status === 200) {\n      LoadData();\n    }\n  };\n\n  return __jsx(Background, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }, __jsx(ModalBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    style: {\n      margin: 32\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 17\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 21\n    }\n  }, title), __jsx(\"input\", {\n    style: {\n      width: \"100%\",\n      height: \"30px\"\n    },\n    defaultValue: inputTitle,\n    onBlur: e => {\n      setInputTitle(e.target.value);\n    },\n    placeholder: \"입력하지 않으면 자동으로 생성합니다.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 21\n    }\n  })), __jsx(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"space-evenly\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }, __jsx(Button, {\n    style: {\n      background: \"#B3B3B3\"\n    },\n    onClick: () => {\n      changeState(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 21\n    }\n  }, \"\\uCDE8\\uC18C\"), __jsx(Button, {\n    style: {\n      borderRight: \"0.5px solid\"\n    },\n    onClick: () => {\n      var _rowData$0$summary_id;\n\n      let summaries = [];\n      const summary_id = (_rowData$0$summary_id = rowData[0].summary_id) !== null && _rowData$0$summary_id !== void 0 ? _rowData$0$summary_id : undefined;\n\n      if (selectList.size > 0) {\n        rowData.map(data => {\n          if (selectList.has(data.id)) {\n            summaries.push(_objectSpread(_objectSpread({}, data), {}, {\n              cm_id: data.cm_idPK,\n              customer_id: data.customer_idPK,\n              product_id: data.product.product_id\n            }));\n          }\n        });\n        let result = {\n          from: selectDate.from,\n          to: selectDate.to,\n          name: inputTitle,\n          summaries: summaries,\n          summary_id: summary_id\n        };\n        saveData(result);\n        Notiflix.Report.success(\"저장되었습니다.\", \"\", \"확인\");\n        changeState(false);\n      } else {\n        Notiflix.Report.warning(\"선택한 데이터가 없습니다.\", \"\", \"확인\");\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 21\n    }\n  }, \"\\uD655\\uC778\"))));\n};\n\nconst Background = styled.div`\n    position:fixed;\n    z-index:11;\n    display:flex;\n    justify-content:center;\n    align-items:center;\n    width:100vw;\n    height:100vh;\n    top:0;\n    left:0;\n    background:rgba(0,0,0,0.3);\n`;\nconst ModalBox = styled.div`\n    background:white;\n    width:400px;\n    height:200px;\n    display:flex;\n    flex-direction:column;\n    justify-content:space-between;\n`;\nconst Button = styled.button`\n    width:50%;\n    height:30px;\n    background:#19B9DF;\n    font-size:18px;\n    font-weight:bold;\n    border:none;\n    cursor:pointer;\n`;\nexport default TitleCreateModal;","map":{"version":3,"sources":["/Users/user/Desktop/sizl/mono_pop/packages/main/component/Modal/TitleCreateModal.tsx"],"names":["React","useState","styled","RequestMethod","Notiflix","TitleCreateModal","title","changeState","rowData","selectList","selectDate","LoadData","inputTitle","setInputTitle","saveData","result","res","status","margin","width","height","e","target","value","display","justifyContent","background","borderRight","summaries","summary_id","undefined","size","map","data","has","id","push","cm_id","cm_idPK","customer_id","customer_idPK","product_id","product","from","to","name","Report","success","warning","Background","div","ModalBox","Button","button"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\nimport styled from \"styled-components\";\nimport {RequestMethod} from \"../../common/RequestFunctions\";\n//@ts-ignore\nimport Notiflix from \"notiflix\"\n\ninterface Props {\n    title:string\n    changeState:(value:boolean) => void\n    rowData:any[]\n    selectList:ReadonlySet<number>\n    selectDate:{from:string, to:string}\n    LoadData:() => void\n}\n\nconst TitleCreateModal = ({title, changeState, rowData, selectList, selectDate, LoadData}:Props) => {\n\n    const [inputTitle, setInputTitle] = useState<string>(\"\");\n\n    const saveData = async(result: any) => {\n        const res = await RequestMethod('post', \"stockSummarySave\", {\n                ...result\n        });\n\n        if(res && res.status === 200){\n            LoadData();\n        }\n    }\n\n    return (\n        <Background>\n            <ModalBox>\n                <div style={{margin:32}}>\n                    <p>{title}</p>\n                    <input style={{width:\"100%\", height:\"30px\"}} defaultValue={inputTitle} onBlur={(e)=>{\n                        setInputTitle(e.target.value);\n                    }}\n                           placeholder={\"입력하지 않으면 자동으로 생성합니다.\"}\n                    />\n                </div>\n\n                <div style={{display:\"flex\",justifyContent:\"space-evenly\", }}>\n                    <Button style={{background:\"#B3B3B3\"}} onClick={()=>{\n                        changeState(false)\n                    }}>취소</Button>\n                    <Button style={{borderRight:\"0.5px solid\"}} onClick={()=>{\n                        let summaries = [];\n                        const summary_id = rowData[0].summary_id ?? undefined;\n                        if(selectList.size > 0){\n                            rowData.map((data) => {\n                                if(selectList.has(data.id)){\n                                    summaries.push({\n                                                ...data,\n                                                cm_id: data.cm_idPK,\n                                                customer_id: data.customer_idPK,\n                                                product_id: data.product.product_id,\n                                        })\n                                    }\n                                })\n                            let result = {\n                                    from: selectDate.from,\n                                    to: selectDate.to,\n                                    name: inputTitle,\n                                    summaries:summaries,\n                                    summary_id:summary_id\n                            };\n\n                            saveData(result);\n                            Notiflix.Report.success(\"저장되었습니다.\", \"\", \"확인\");\n                            changeState(false);\n                        }else{\n                            Notiflix.Report.warning(\"선택한 데이터가 없습니다.\", \"\", \"확인\");\n                        }\n                    }}>확인</Button>\n                </div>\n            </ModalBox>\n        </Background>\n    );\n}\n\nconst Background = styled.div`\n    position:fixed;\n    z-index:11;\n    display:flex;\n    justify-content:center;\n    align-items:center;\n    width:100vw;\n    height:100vh;\n    top:0;\n    left:0;\n    background:rgba(0,0,0,0.3);\n`;\n\nconst ModalBox = styled.div`\n    background:white;\n    width:400px;\n    height:200px;\n    display:flex;\n    flex-direction:column;\n    justify-content:space-between;\n`;\n\nconst Button = styled.button`\n    width:50%;\n    height:30px;\n    background:#19B9DF;\n    font-size:18px;\n    font-weight:bold;\n    border:none;\n    cursor:pointer;\n`;\n\nexport default TitleCreateModal\n"]},"metadata":{},"sourceType":"module"}